<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>행맨</title>
<script>
  var words = ['javascript', 'monkey', 'amazing', 'pancake', 'cat', 'qurry', 'jquery'];

  var word = words[Math.floor(Math.random()*words.length)];
  var answerArray = [];
  var guessesArry = [];
  var lives = 15;
    for(var i= 0; i< word.length; i++){
      answerArray[i]= '_';
    }

  var remainingLetters = word.length;
  
    while(remainingLetters> 0 || lives > 0){
      alert(answerArray.join(" ")+ "  남은 횟수:"+lives+"회");
      
      var guess = prompt("글자를 입력하세요. 취소를 누르면 게임을 멈춥니다.");
        if(guess === null){
          break ;
        }else if(guess.length !== 1){
          alert("한 글자만 입력해주세요.");        
        }else{
          guess = guess.toLowerCase();
          for(var j= 0; j< word.length; j++){
            if(word[j]=== guess && answerArray[j] === '_'){
              answerArray[j] = guess;
              remainingLetters--;
            }
          }
          var counting = answerArray.indexOf(guess);
          if(guessesArry[counting] === word[counting]){
            lives--;  //입력된 키일 경우 생명력 줄어들지 않음.
          }
          //alert("이미 입력된 키 입니다.");
            //이미 입력된 키 화면에 보여주는 것은 구현하지 못함.
        }      
    }

    alert(answerArray.join(" "));

    if(lives > 0){
      alert("잘하셨어요! 정답은 "+ word + " 입니다!");
    }else{
      alert("안타깝네요. 정답은 "+word+" 였습니다.");
    }
</script>
</head>
<body>
  
</body>
</html>